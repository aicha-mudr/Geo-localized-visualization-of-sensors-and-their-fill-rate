
<div class="container">
    <section id="formHolder">

        <div class="row">

            <!-- Brand Box -->
            <div class="col-sm-6 brand">
                <a href="#" class="logo">SGP <span>.</span></a>

                <div class="heading">
                    <img src="../../content/images/SGP_LOGO.png" [height]="150">
                    <p>SYSTEME DE GEOLOCALISATION DES POUBELLES</p>
                </div>

<!--                <div class="success-msg">-->
<!--                    <p>Centre d'Aide à la Décision</p>-->
<!--                </div>-->
            </div>


            <!-- Form Box -->
            <div class="col-sm-6 form">

                <!-- Login Form -->
                <div class="login form-peice ">
                    <div class="alertClass">
                        <div class="alert alert-danger" *ngIf="authenticationError">
                            <strong>Échec de la connexion!</strong> Veuillez vérifier vos informations d'identification et réessayer.
                        </div>
                    </div>
                    <form class="login-form"   [formGroup]="loginForm">
                        <div class="form-group">
                            <label class="username-label" for="username">Login</label>
                            <input type="text" class="form-control" name="username" id="username" placeholder="Your username"
                                   formControlName="username" #username>
                        </div>

                        <div class="form-group">
                            <label for="password">Password</label>
                            <input type="password" class="form-control" name="password" id="password" placeholder="Your password"
                                   formControlName="password">
                        </div>

                        <div class="CTA">
                            <input type="submit" (click)="connecter()"  value="Login">
                            <a  class="switch " (click)="onSwitch('.signup','.login')" >Je suis nouveau</a>
                        </div>
                    </form>
                </div><!-- End Login Form -->


                <!-- Signup Form -->
                <div class="signup form-peice switched">
                    <form class="signup-form" (ngSubmit)="register()" [formGroup]="registerForm">
                        <div class="alert alert-success" *ngIf="success">
                            <strong>Vous êtes inscrit avec succé!</strong>
                        </div>

                        <div class="alert alert-danger" *ngIf="error">
                            <strong>Connexion échouée!</strong> Veuillez réessayer.
                        </div>

                        <div class="alert alert-danger" *ngIf="errorUserExists">
                            <strong>login déja utilisé!</strong> Veuillez en choisir un autre.
                        </div>

                        <div class="alert alert-danger" *ngIf="errorEmailExists">
                            <strong>Email est déjà utilisé!</strong> Veuillez en choisir un autre.
                        </div>

                        <div class="alert alert-danger" *ngIf="doNotMatch">
                            Le mot de passe et sa confirmation ne correspondent pas!
                        </div>
                        <div class="form-group">
                            <label class="form-control-label" for="login">Username/login</label>
                            <input type="text" class="form-control" id="login" name="login" placeholder="Your login"
                                   formControlName="login" #login>

                            <div *ngIf="registerForm.get('login')!.invalid && (registerForm.get('login')!.dirty || registerForm.get('login')!.touched)">
                                <small class="form-text text-danger"
                                       *ngIf="registerForm.get('login')?.errors?.required">
                                    Your username is required.
                                </small>

                                <small class="form-text text-danger"
                                       *ngIf="registerForm.get('login')?.errors?.minlength">
                                    Your username is required to be at least 1 character.
                                </small>

                                <small class="form-text text-danger"
                                       *ngIf="registerForm.get('login')?.errors?.maxlength">
                                    Your username cannot be longer than 50 characters.
                                </small>

                                <small class="form-text text-danger"
                                       *ngIf="registerForm.get('login')?.errors?.pattern">
                                    Your username can only contain letters and digits.
                                </small>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-control-label" for="email">Email</label>
                            <input type="email" class="form-control" id="email" name="email" placeholder="Your email"
                                   formControlName="email">

                            <div *ngIf="registerForm.get('email')!.invalid && (registerForm.get('email')!.dirty || registerForm.get('email')!.touched)">
                                <small class="form-text text-danger"
                                       *ngIf="registerForm.get('email')?.errors?.required">
                                    Your email is required.
                                </small>

                                <small class="form-text text-danger"
                                       *ngIf="registerForm.get('email')?.errors?.invalid">
                                    Your email is invalid.
                                </small>

                                <small class="form-text text-danger"
                                       *ngIf="registerForm.get('email')?.errors?.minlength">
                                    Your email is required to be at least 5 characters.
                                </small>

                                <small class="form-text text-danger"
                                       *ngIf="registerForm.get('email')?.errors?.maxlength">
                                    Your email cannot be longer than 100 characters.
                                </small>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-control-label" for="password2">New password</label>
                            <input type="password" class="form-control" id="password2" name="password" placeholder="New password"
                                   formControlName="password">

                            <div *ngIf="registerForm.get('password')!.invalid && (registerForm.get('password')!.dirty || registerForm.get('password')!.touched)">
                                <small class="form-text text-danger"
                                       *ngIf="registerForm.get('password')?.errors?.required">
                                    Your password is required.
                                </small>

                                <small class="form-text text-danger"
                                       *ngIf="registerForm.get('password')?.errors?.minlength">
                                    Your password is required to be at least 4 characters.
                                </small>

                                <small class="form-text text-danger"
                                       *ngIf="registerForm.get('password')?.errors?.maxlength">
                                    Your password cannot be longer than 50 characters.
                                </small>
                            </div>

<!--                            <jhi-password-strength-bar [passwordToCheck]="registerForm.get('password')!.value"></jhi-password-strength-bar>-->
                        </div>

                        <div class="form-group">
                            <label class="form-control-label" for="confirmPassword">New password confirmation</label>
                            <input type="password" class="form-control" id="confirmPassword" name="confirmPassword" placeholder="Confirm the new password"
                                   formControlName="confirmPassword">

                            <div *ngIf="registerForm.get('confirmPassword')!.invalid && (registerForm.get('confirmPassword')!.dirty || registerForm.get('confirmPassword')!.touched)">
                                <small class="form-text text-danger"
                                       *ngIf="registerForm.get('confirmPassword')?.errors?.required">
                                    Your confirmation password is required.
                                </small>

                                <small class="form-text text-danger"
                                       *ngIf="registerForm.get('confirmPassword')?.errors?.minlength">
                                    Your confirmation password is required to be at least 4 characters.
                                </small>

                                <small class="form-text text-danger"
                                       *ngIf="registerForm.get('confirmPassword')?.errors?.maxlength">
                                    Your confirmation password cannot be longer than 50 characters.
                                </small>
                            </div>
                        </div>

                        <div class="CTA">
                            <input type="submit" [disabled]="registerForm.invalid" value="Signup Now" id="submit">
                            <a class="switch" (click)="onSwitch('.login','.signup')" >J'ai un compte</a>
                        </div>
                    </form>
                </div><!-- End Signup Form -->
            </div>
        </div>

    </section>


    <footer>
        <p>
            &copy; E.N.S.I.A.S
        </p>
    </footer>

</div>
